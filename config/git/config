[filter "lfs"]
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true

[user]
    name = vinyl-umbrella
    email = 61788251+vinyl-umbrella@users.noreply.github.com

[core]
    editor = code-insiders --wait
    quotepath = false
    pager = less -FMRX -z-4

[color]
    ui = auto

[init]
    defaultBranch = main

[url "git@github.com:"]
    insteadOf = https://github.com/

[alias]
    s = status -sb
    cm = commit -m
    br = branch
    co = checkout
    sw = switch
    ls = log --decorate --oneline --stat
    log1 = log --abbrev-commit --color --pretty=format:'%C(yellow)%h%Creset -%C(yellow)%d%Creset %s %C(blue)(%cr)%Creset <%an>'
    dshow = -c diff.external=difft show --ext-diff
    prune-local-br = "!f(){ \
        set -e; \
        git fetch --prune; \
        curr=$(git branch --show-current); \
        git for-each-ref --format='%(refname:short) %(upstream:short) %(upstream:trackshort)' refs/heads \
        | awk '$2==\"\" || $3==\"gone\" {print $1}' \
        | grep -v -x \"$curr\" \
        | grep -v -E '^(main|master|develop)$' \
        | sort -u \
        | xargs -r -n1 git branch -d; \
    }; f"
    cancel = reset --soft HEAD^

[checkout]
    defaultRemote = origin

[fetch]
    prune = true
    writeCommitGraph = true
    pruneTags = true
    all = true

[pull]
    ff = only

[log]
    date = iso

[diff]
    external = difft
    ignoreSpaceAtEol = true
    colorMoved = default
    algorithm = histogram

[push]
    autoSetupRemote = true

[rebase]
    autoSquash = true
    updateRefs = true
